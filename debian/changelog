xdg-desktop-portal (1.7.0-1) UNRELEASED; urgency=medium

  * Switch to experimental branch
    - d/watch: Watch for development releases
    - d/gbp.conf, d/control: Use debian/experimental packaging branch
    - d/gbp.conf: Use upstream/latest branch
  * New upstream development release
  * Disable pipewire until 0.3.x is available (#954022)
  * Drop patches that were applied upstream
  * Set upstream metadata fields: Repository.
  * Remove obsolete field Name from debian/upstream/metadata (already
    present in machine-readable debian/copyright).
  * Standards-Version: 4.5.0 (no changes required)

 -- Simon McVittie <smcv@debian.org>  Thu, 26 Dec 2019 12:52:05 +0000

xdg-desktop-portal (1.6.0-1) unstable; urgency=medium

  * New upstream stable release
    - d/watch: Only watch for stable releases
    - d/gbp.conf: Use debian/master, upstream/1.6.x branches
  * Mention #946913 in previous changelog entry
  * Add "unsafe" pkg.libportal.enable build option to enable extra tests
    while libportal is not yet API-stable
  * d/p/Fix-the-build-on-old-glib.patch,
    d/p/xml-Avoid-fancy-quotes.patch:
    Add post-release fixes from upstream
  * d/p/open-uri-Fix-criticals-if-no-default-handler-for-desired-.patch,
    d/p/tests-Fix-race-condition-in-various-Lockdown-tests.patch,
    d/p/tests-Skip-Location-tests-if-we-have-no-D-Bus-system-bus.patch,
    d/p/tests-Install-test-backends.patch,
    d/p/tests-When-installed-look-for-executables-in-libexecdir.patch,
    d/p/tests-Install-test.portal-for-installed-tests.patch:
    Fix some test failures when libportal is enabled
  * d/p/tests-Divert-service-stdout-to-stderr.patch,
    d/p/tests-Always-produce-verbose-output-from-subprocesses.patch:
    Improve test diagnostics
  * d/p/Replace-the-icon-validator-with-the-one-from-Flatpak-1.6..patch:
    Relabel the icon validator as coming from Flatpak 1.6.0
    (it's the same as 1.4.2)

 -- Simon McVittie <smcv@debian.org>  Tue, 24 Dec 2019 14:15:27 +0000

xdg-desktop-portal (1.5.4-1) experimental; urgency=medium

  * Branch for experimental
  * New upstream development release
    - d/patches: Rebase
    - d/rules: Explicitly disable libportal-based tests (ITP: #946605)
    - Only log one warning if unable to track which apps are "in the
      background, for example x-d-p-gtk in a non-GNOME environment
      (Closes: #946913)

 -- Simon McVittie <smcv@debian.org>  Fri, 13 Dec 2019 23:23:14 +0000

xdg-desktop-portal (1.4.2-3) unstable; urgency=medium

  * Standards-Version: 4.4.1 (no changes required)
  * Re-enable pipewire (screen recording) support now that v0.2.7 is
    available

 -- Simon McVittie <smcv@debian.org>  Sat, 02 Nov 2019 10:12:41 +0000

xdg-desktop-portal (1.4.2-2) unstable; urgency=medium

  * Release to unstable
  * d/salsa-ci.yml: Request standard CI on salsa.debian.org
  * d/p/test-doc-portal-Check-for-FUSE-support-more-thoroughly.patch:
    Skip tests when FUSE is non-functional, even if we are root
  * Standards-Version: 4.4.0 (no changes required)
  * Use debhelper-compat 12
    - Remove redundant --libexecdir=/usr/libexec, which is the default
      at this compat level
  * d/p/Replace-the-icon-validator-with-the-one-from-Flatpak-1.4..patch:
    Update icon validator to the one from Flatpak 1.4.2
  * Mark autopkgtest as flaky due to #931726

 -- Simon McVittie <smcv@debian.org>  Tue, 16 Jul 2019 09:19:47 +0100

xdg-desktop-portal (1.4.2-1) experimental; urgency=medium

  * New upstream release
  * Disable pipewire (screencasting) until 0.2.6 is available in Debian
  * Build-depend on libjson-glib-dev
  * d/copyright: Update

 -- Simon McVittie <smcv@debian.org>  Mon, 10 Jun 2019 09:37:22 +0100

xdg-desktop-portal (1.2.0-1) unstable; urgency=medium

  [ Simon McVittie ]
  * New upstream stable release
  * d/watch: Only watch for stable releases
  * d/p/Revert-Stop-building-the-icon-validator.patch,
    d/p/validate-icon-Add-a-define-for-bwrap.patch,
    d/p/Replace-the-icon-validator-with-the-one-from-Flatpak-git-.patch:
    Build a copy of the icon validator from Flatpak git master.
    We don't want to rely on a version of Flatpak that isn't
    stable yet.
    - d/p/notification-Handle-non-existing-directories.patch,
      d/p/notification-bind-mount-etc-ld.so.cache-to-the-sandbox.patch:
      Remove, no longer necessary
  * d/upstream/metadata: Add DEP-12 metadata
  * Release to unstable

  [ Jeremy Bicha ]
  * Don't enable remote desktop support on Ubuntu. See LP bug 1802533

 -- Simon McVittie <smcv@debian.org>  Sat, 26 Jan 2019 18:31:50 +0000

xdg-desktop-portal (1.1.1-1) experimental; urgency=medium

  * New upstream development release
    - Drop patches, applied upstream
    - Build-Depend on libgdk-pixbuf2.0-dev, for icon validation
    - Package new xdg-desktop-portal-validate-icon executable
    - Depend on bubblewrap, for sandboxed icon validation
  * Enable Location portal (geoclue-2.0)
  * Standards-Version: 4.3.0 (no changes required)
  * d/control: Set Vcs-Git branch for experimental
  * d/p/notification-Handle-non-existing-directories.patch,
    d/p/notification-bind-mount-etc-ld.so.cache-to-the-sandbox.patch:
    Make bwrap invocation more reliable, and in particular make it
    work on purely 32-bit systems with no /lib64 (patches taken from
    gnome-desktop, thanks to Iain Lane and Mart Raudsepp)

 -- Simon McVittie <smcv@debian.org>  Thu, 17 Jan 2019 09:57:59 +0000

xdg-desktop-portal (1.1.0-1) experimental; urgency=medium

  * New upstream development release
    - d/copyright: Update
    - d/control: Build-depend on fontconfig, for fontconfig cache
      invalidation in Settings portal
    - d/control: Build-depend on flatpak, for permission-store test
  * Don't build with Location portal yet, because geoclue-2.0 is
    currently too old
  * Drop patch, applied upstream
  * d/gbp.conf: Use debian/experimental branch
  * d/patches: Skip another build-time test when FUSE is not supported
  * d/patches: Don't show a critical warning when a document permissions
    entry is removed
  * Enable Pipewire support, for screencasting

 -- Simon McVittie <smcv@debian.org>  Mon, 19 Nov 2018 18:47:57 +0000

xdg-desktop-portal (1.0.3-1) unstable; urgency=medium

  * New upstream release
  * d/p/desktop-portal-don-t-attempt-to-export-NULL-GDBusInterfac.patch:
    Add patch from upstream to guard against NULL interface objects
    (previously applied in Ubuntu, LP: #1691649)

 -- Simon McVittie <smcv@debian.org>  Sat, 13 Oct 2018 11:33:35 +0100

xdg-desktop-portal (1.0.2-1) unstable; urgency=medium

  * New upstream release
  * d/p/network-monitor-Build-variants-for-GetStatus-correctly.patch:
    Drop, superseded by upstream changes

 -- Simon McVittie <smcv@debian.org>  Mon, 10 Sep 2018 10:37:46 +0100

xdg-desktop-portal (1.0.1-1) unstable; urgency=medium

  * New upstream release
  * d/p/network-monitor-Build-variants-for-GetStatus-correctly.patch:
    Add patch to make NetworkMonitor.GetStatus() work as intended
  * Standards-Version: 4.2.1 (no changes required)

 -- Simon McVittie <smcv@debian.org>  Fri, 31 Aug 2018 08:55:19 +0100

xdg-desktop-portal (1.0-1) unstable; urgency=medium

  * New upstream release
  * Install upstream NEWS
  * Standards-Version: 4.2.0 (no further changes)

 -- Simon McVittie <smcv@debian.org>  Thu, 23 Aug 2018 09:53:13 +0100

xdg-desktop-portal (0.99-1) unstable; urgency=medium

  * New upstream release
  * Standards-Version: 4.1.5
  * Install to /usr/libexec
  * Build in a UTF-8 locale, to avoid FTBFS when gdbus-codegen reads
    UTF-8

 -- Simon McVittie <smcv@debian.org>  Sat, 28 Jul 2018 12:28:48 +0100

xdg-desktop-portal (0.11-2) unstable; urgency=medium

  [ Jeremy Bicha ]
  * Update package description to mention Snap
  * Use github page as homepage

 -- Simon McVittie <smcv@debian.org>  Sun, 24 Jun 2018 22:02:48 +0100

xdg-desktop-portal (0.11-1) unstable; urgency=medium

  * New upstream release
    - Drop patch, applied upstream
  * Standards-Version: 4.1.4 (no changes)

 -- Simon McVittie <smcv@debian.org>  Wed, 25 Apr 2018 16:29:22 +0100

xdg-desktop-portal (0.10-4) unstable; urgency=medium

  * Merge from experimental, with autopkgtests included
  * d/p/build-Run-install-test-data-hook-as-intended.patch:
    Mark patch as applied upstream

 -- Simon McVittie <smcv@debian.org>  Fri, 16 Feb 2018 14:50:44 +0000

xdg-desktop-portal (0.10-3) experimental; urgency=medium

  * Reinstate xdg-desktop-portal-tests package and autopkgtests
  * d/p/build-Run-install-test-data-hook-as-intended.patch:
    Run the tests' install hook to set up enough symlinks that they
    will pass
  * Upload to experimental to wait for NEW processing

 -- Simon McVittie <smcv@debian.org>  Thu, 15 Feb 2018 00:30:01 +0000

xdg-desktop-portal (0.10-2) unstable; urgency=medium

  * Really remove xdg-desktop-portal-tests stanza from d/control

 -- Simon McVittie <smcv@debian.org>  Thu, 15 Feb 2018 00:01:42 +0000

xdg-desktop-portal (0.10-1) unstable; urgency=medium

  * New upstream release
  * Add Breaks/Replaces for flatpak (<< 0.10.4-1~) since this package
    has taken over the permission store and documents portal
  * Disable Pipewire support for now (ITP: #874089)
  * Add new build-dependencies for FUSE
  * Install the permission store and documents portal
  * d/copyright: Update
  * Drop flatpak build-dependency, no longer needed
  * Remove patches, applied upstream
  * Depend on FUSE
  * Build installed-tests, but don't install them for now to avoid the
    NEW queue
  * Use dh_missing --fail-missing instead of dh_install --fail-missing

 -- Simon McVittie <smcv@debian.org>  Wed, 14 Feb 2018 17:44:15 +0000

xdg-desktop-portal (0.9-2) unstable; urgency=medium

  * Standards-Version: 4.1.3 (no changes)
  * Change Vcs-* to point to salsa.debian.org
  * d/p/0.10/: Update to upstream git commit 0.9-9-g422ecf3 for various
    bug fixes

 -- Simon McVittie <smcv@debian.org>  Thu, 18 Jan 2018 08:46:29 +0000

xdg-desktop-portal (0.9-1) unstable; urgency=medium

  * New upstream release
    - Drop all patches, applied upstream

 -- Simon McVittie <smcv@debian.org>  Fri, 24 Nov 2017 10:38:16 +0000

xdg-desktop-portal (0.8-3) unstable; urgency=medium

  * Set Rules-Requires-Root to no
  * Use https Format URL in d/copyright
  * Standards-Version: 4.1.1 (no further changes)

 -- Simon McVittie <smcv@debian.org>  Sat, 11 Nov 2017 13:43:41 +0000

xdg-desktop-portal (0.8-2) unstable; urgency=medium

  * Mark patches as applied upstream for 0.9
  * Upload to unstable

 -- Simon McVittie <smcv@debian.org>  Sat, 10 Jun 2017 10:12:20 +0100

xdg-desktop-portal (0.8-1) experimental; urgency=medium

  * New upstream release
  * Add patches to make the development files completely
    architecture-independent (Closes: #864451)
  * Make xdg-desktop-portal-dev Architecture: all

 -- Simon McVittie <smcv@debian.org>  Fri, 09 Jun 2017 08:04:12 +0100

xdg-desktop-portal (0.6-1) experimental; urgency=medium

  * New upstream release
    - Run as a systemd user service if dbus-user-session is installed
    - Add email portal
  * Move to debhelper compat level 10
  * Omit unimplemented configure option --enable-installed-tests
  * Do not explicitly disable quiet Automake output: dh now does this
    by default
  * Move API documentation from main package to -dev package
  * Register API documentation with doc-base

 -- Simon McVittie <smcv@debian.org>  Mon, 03 Apr 2017 15:28:02 +0100

xdg-desktop-portal (0.5-1) unstable; urgency=medium

  * New upstream release

 -- Simon McVittie <smcv@debian.org>  Sat, 21 Jan 2017 16:28:36 +0000

xdg-desktop-portal (0.4-1) unstable; urgency=medium

  * New upstream release
    - Drop cherry-picked patch for flatpak 0.6.10 container detection,
      now included in the upstream release

 -- Simon McVittie <smcv@debian.org>  Mon, 05 Dec 2016 10:51:02 +0000

xdg-desktop-portal (0.3-1) unstable; urgency=medium

  * Initial release. (Closes: #831689)

 -- Simon McVittie <smcv@debian.org>  Wed, 21 Sep 2016 22:14:13 +0100
